<template>
  <div class="d-flex flex-column" style="min-height: 100vh;">

    <!-- Header -->
    <nav class="navbar navbar-dark bg-dark px-3">
      <button class="btn btn-outline-light d-md-none" @click="toggleSidebar">
        â˜°
      </button>
      <span class="navbar-brand">Pony è»Šè¼›ç®¡ç†ç³»çµ±</span>
    </nav>

    <div class="d-flex flex-grow-1">

      <!-- Sidebar -->
      <div
        class="bg-light border-end sidebar"
        :class="{ 'sidebar-open': sidebarOpen }"
        style="width:250px;"
      >
        <h5 class="p-3 border-bottom">ç®¡ç†å®¢æˆ¶</h5>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><router-link to="/add-customer">â• æ–°å¢å®¢æˆ¶</router-link></li>
          <li class="list-group-item"><router-link to="/customer-permission">ğŸ” æ¬Šé™ç®¡ç†</router-link></li>
          <li class="list-group-item"><router-link to="/customer-search">ğŸ” å®¢æˆ¶æŸ¥è©¢</router-link></li>
        </ul>

        <h5 class="p-3 border-bottom mt-3">è»Šè¼›ç®¡ç†</h5>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><router-link to="/vehicle-add">â• æ–°å¢è»Šè¼›</router-link></li>
          <li class="list-group-item"><router-link to="/vehicle-list">ğŸš— è»Šè¼›åˆ—è¡¨</router-link></li>
        </ul>
      </div>

      <!-- Content -->
      <div class="p-4 flex-grow-1">
        <router-view />
      </div>

    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const sidebarOpen = ref(false)

const toggleSidebar = () => {
  sidebarOpen.value = !sidebarOpen.value
}
</script>

<style>
/* æ‰‹æ©Ÿç‰ˆï¼šå´é‚Šæ¬„éš±è— */
.sidebar {
  transform: translateX(-250px);
  transition: 0.3s;
  position: fixed;
  top: 56px; /* Header é«˜åº¦ */
  bottom: 0;
  z-index: 1000;
}

/* æ‰‹æ©Ÿç‰ˆå´é‚Šæ¬„æ‰“é–‹ */
.sidebar.sidebar-open {
  transform: translateX(0);
}

/* æ¡Œé¢ç‰ˆï¼šæ°¸é å¯è¦‹ */
@media (min-width: 768px) {
  .sidebar {
    transform: none;
    position: static;
  }
}
</style>
